<h2 mat-dialog-title>{{data.nuevo?'Nuevo':'Editar'}} Asignacion</h2>

<mat-divider></mat-divider>

@if (registroFormGroup) {
  <form (ngSubmit)="onSubmit()" [formGroup]="registroFormGroup" #aForm>
    <mat-dialog-content>
      <ng-select [items]="listaVehiculos" bindLabel="dato" bindValue="id" formControlName="vehiculoId" appendTo="body"
        placeholder="Placa de Vehiculo">
      </ng-select>
      @if (registroControl && r.vehiculoId.errors && r.vehiculoId.errors.required) {
        <span
          class="italic text-xs text-red-600 dark:text-gray-300">
          Se requiere Vehiculo
        </span>
      }
      <br>
        <ng-select [items]="listaConductores" bindLabel="dato" bindValue="id" formControlName="conductorId"
          appendTo="body" placeholder="Conductor">
        </ng-select>
        @if (registroControl && r.conductorId.errors && r.conductorId.errors.required) {
          <span
            class="italic text-xs text-red-600 dark:text-gray-300">
            Se requiere Conductor
          </span>
        }
        <br>
          <div class="flex">
            <div class="w-1/2 px-2">
              <span class="italic text-xs text-orange-500 dark:text-gray-300"> Fecha Inicio </span>
              <input type="date" class="dark:bg-gray-900 text-gray-800 dark:text-white w-full" id="fechaInicio"
                name="fechaInicio" formControlName="fechaInicio">
              @if (registroControl && r.fechaInicio.errors && r.fechaInicio.errors.required) {
                <span
                  class="italic text-xs text-red-600 dark:text-gray-300">
                  Se requiere fecha de Inicio
                </span>
              }
            </div>
            <div class="w-1/2 px-2">
              <span class="italic text-xs text-green-600 dark:text-gray-300"> Fecha Final </span>
              <input type="date" class="dark:bg-gray-900 text-gray-800 dark:text-white w-full" id="fechaFinal"
                name="fechaFinal" formControlName="fechaFinal">
              @if (registroControl && r.fechaFinal.errors && r.fechaFinal.errors.required) {
                <span
                  class="italic text-xs text-red-600 dark:text-gray-300">
                  Se requiere fecha de Inicio
                </span>
              }
            </div>
          </div>
          <br>
            <div class="flex">
              <div class="w-1/2 px-2">
                <span class="italic text-xs text-blue-600 dark:text-gray-300"> Kilometraje Inicio</span>
                <input type="text" formControlName="kilometrajeInicio" placeholder="Kilometraje Inicio"
                  class="w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white" />
              </div>
              <div class="w-1/2 px-2">
                <span class="italic text-xs text-blue-600 dark:text-gray-300"> Kilometraje Final</span>
                <input type="text" formControlName="kilometrajeFinal" placeholder="Kilometraje Final"
                  class="w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white" />
              </div>
            </div>
            <br>
              <span class="italic text-xs text-blue-600 dark:text-gray-300">Descripcion</span>
              <input type="text" formControlName="descripcion" placeholder="descripcion"
                class="w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white" />
              <br> <br>
            </mat-dialog-content>
            <mat-divider></mat-divider>
            <mat-dialog-actions align="end">
              <button mat-button mat-dialog-close type="button">Cancelar</button>
              @if (!ordenExistente) {
                <button color="primary" mat-flat-button type="submit"> Aceptar</button>
              }
            </mat-dialog-actions>
          </form>
        }